% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/subset_connections.R
\name{subset_connections}
\alias{subset_connections}
\title{Subset and Analyze Connections Between Labeled and Unlabeled Cells}
\usage{
subset_connections(correlation_matrix, coordinates, correlation_threshold = 0)
}
\arguments{
\item{correlation_matrix}{A square matrix representing the correlation between cells, where each entry contains the correlation value between two cells. The matrix should be of the same dimension as the number of cells in `coordinates`.}

\item{coordinates}{A dataframe containing the coordinates of the cells. It must contain a `Label` column, where labeled cells have non-zero values, and unlabeled cells have a value of 0.}

\item{correlation_threshold}{A numeric value to apply a threshold for correlations. Correlations below this value will be set to 0 (i.e., no connection), and correlations equal to or above this value will be set to 1 (i.e., a connection). Default is 0.}
}
\value{
A list with the following components:
\describe{
  \item{total_connections_labeled_to_unlabeled}{The total number of connections from labeled cells to unlabeled cells.}
  \item{total_possible_connections_labeled_to_unlabeled}{The total possible number of connections from labeled to unlabeled cells.}
  \item{proportion_labeled_to_unlabeled}{The proportion of labeled-to-unlabeled connections relative to the total possible labeled-to-unlabeled connections.}
  \item{total_connections_labeled_to_labeled}{The total number of connections between labeled cells.}
  \item{total_possible_connections_labeled_to_labeled}{The total possible number of connections between labeled cells (excluding self-connections).}
  \item{proportion_labeled_to_labeled}{The proportion of labeled-to-labeled connections relative to the total possible labeled-to-labeled connections.}
}
}
\description{
This function calculates the number of connections between a subset of labeled cells and the rest of the unlabeled cells, based on a correlation matrix. It applies a correlation threshold to filter out weak connections and computes the total connections, possible connections, and their proportions for labeled-to-unlabeled and labeled-to-labeled cell pairs.
}
\examples{
# Example correlation matrix (10x10) and corresponding coordinates
correlation_matrix <- matrix(runif(100, -1, 1), nrow = 10)
coordinates <- data.frame(
  X = runif(10),
  Y = runif(10),
  Label = c(1, 1, 0, 1, 0, 0, 1, 0, 0, 0)
)

# Apply subset_connections with a threshold of 0.5
result <- subset_connections(correlation_matrix, coordinates, correlation_threshold = 0.5)

# View the result
print(result)
}
